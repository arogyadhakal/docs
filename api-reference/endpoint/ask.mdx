---
title: 'Ask Questions'
api: 'POST /api/v1/ask'
---

Ask questions about uploaded PDFs and images using AI. The endpoint processes your prompt along with the provided files and returns AI-generated responses.

## Request

<ParamField body="files" type="File[]" required>
  Array of files to process. Supports PDFs and images (JPEG, PNG, GIF, WebP).
</ParamField>

<ParamField body="prompt" type="string" required>
  The question or prompt to ask about the uploaded files.
</ParamField>

<ParamField header="Authorization" type="string" required>
  Bearer token with your API key. Format: `Bearer pk_live_your_api_key`
</ParamField>

<ParamField header="Idempotency-Key" type="string">
  Optional idempotency key to prevent duplicate charges for the same request.
</ParamField>

## Request Example

<CodeGroup>

```bash cURL
curl -X POST "https://your-api-domain.com/api/v1/ask" \
  -H "Authorization: Bearer pk_live_your_api_key" \
  -H "Idempotency-Key: unique-request-id-123" \
  -F "files=@document.pdf" \
  -F "files=@image.jpg" \
  -F "prompt=What is the main topic of this document?"
```

```javascript JavaScript
const formData = new FormData();
formData.append('files', fileInput.files[0]);
formData.append('prompt', 'What is the main topic of this document?');

const response = await fetch('https://your-api-domain.com/api/v1/ask', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer pk_live_your_api_key',
    'Idempotency-Key': 'unique-request-id-123'
  },
  body: formData
});

const data = await response.json();
```

```python Python
import requests

url = "https://your-api-domain.com/api/v1/ask"
headers = {
    "Authorization": "Bearer pk_live_your_api_key",
    "Idempotency-Key": "unique-request-id-123"
}

files = [
    ("files", ("document.pdf", open("document.pdf", "rb"), "application/pdf")),
    ("files", ("image.jpg", open("image.jpg", "rb"), "image/jpeg"))
]
data = {
    "prompt": "What is the main topic of this document?"
}

response = requests.post(url, headers=headers, files=files, data=data)
result = response.json()
```

</CodeGroup>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful.
</ResponseField>

<ResponseField name="message" type="string">
  Human-readable message describing the result.
</ResponseField>

<ResponseField name="response" type="string">
  The AI-generated response to your prompt. For multiple files, responses are combined with file-specific labels.
</ResponseField>

## Response Example

```json
{
  "success": true,
  "message": "Prompt processed successfully",
  "response": "Response for document.pdf:\nThe main topic of this document is artificial intelligence and machine learning applications.\n\nResponse for image.jpg:\nThis image shows a diagram illustrating neural network architecture.\n"
}
```

## Error Responses

<ResponseField name="detail" type="string">
  Error message describing what went wrong.
</ResponseField>

### Common Errors

**400 Bad Request**
```json
{
  "detail": "Prompt cannot be empty"
}
```

**401 Unauthorized**
```json
{
  "detail": "Invalid API key"
}
```

**402 Payment Required**
```json
{
  "detail": "Insufficient credits. Required: 5, Available: 2"
}
```

**403 Forbidden**
```json
{
  "detail": "No active subscription found. Please subscribe to use this feature."
}
```

## Credit Costs

- **File credits**: Based on file size and type (calculated automatically)
- **Question credit**: 1 credit per question/prompt
- **Total cost**: File credits + 1 credit

## Notes

- Multiple files can be processed in a single request
- Each file is processed separately with the same prompt
- Responses are combined and labeled by filename
- PDFs are processed using Gemini's document understanding capabilities
- Images are processed using Gemini's vision model
