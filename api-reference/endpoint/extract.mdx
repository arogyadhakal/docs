---
title: "Extract Structured Data"
api: "POST /api/v1/extract"
---

Extract structured data from uploaded PDFs and images according to a JSON schema. This endpoint uses AI to identify and extract specific fields from documents based on your schema definition.

## Request

<ParamField body="files" type="File[]" required>
  Array of files to process. Supports PDFs and images (JPEG, PNG, GIF, WebP).
</ParamField>

<ParamField body="schema" type="string" required>
  JSON schema string defining the structure of data to extract. Must be valid
  JSON.
</ParamField>

<ParamField header="Authorization" type="string" required>
  Bearer token with your API key. Format: `Bearer pk_live_your_api_key`
</ParamField>

<ParamField header="Idempotency-Key" type="string">
  Optional idempotency key to prevent duplicate charges for the same request.
</ParamField>

## Schema Format

The schema must be a valid JSON schema object. Here's an example:

```json
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Full name of the person"
    },
    "email": {
      "type": "string",
      "description": "Email address"
    },
    "phone": {
      "type": "string",
      "description": "Phone number"
    },
    "address": {
      "type": "object",
      "properties": {
        "street": { "type": "string" },
        "city": { "type": "string" },
        "zip": { "type": "string" }
      }
    }
  },
  "required": ["name", "email"]
}
```

## Request Example

<CodeGroup>

```bash cURL
curl -X POST "https://api.pdfextractor.io/api/v1/extract" \
  -H "Authorization: Bearer pk_live_your_api_key" \
  -H "Idempotency-Key: unique-request-id-123" \
  -F "files=@invoice.pdf" \
  -F "files=@receipt.jpg" \
  -F 'schema={"type":"object","properties":{"invoice_number":{"type":"string"},"total":{"type":"number"},"date":{"type":"string"}},"required":["invoice_number","total"]}'
```

```javascript JavaScript
const schema = {
  type: "object",
  properties: {
    invoice_number: { type: "string" },
    total: { type: "number" },
    date: { type: "string" },
  },
  required: ["invoice_number", "total"],
};

const formData = new FormData();
formData.append("files", fileInput.files[0]);
formData.append("schema", JSON.stringify(schema));

const response = await fetch("https://api.pdfextractor.io/api/v1/extract", {
  method: "POST",
  headers: {
    Authorization: "Bearer pk_live_your_api_key",
    "Idempotency-Key": "unique-request-id-123",
  },
  body: formData,
});

const data = await response.json();
```

```python Python
import requests
import json

url = "https://api.pdfextractor.io/api/v1/extract"
headers = {
    "Authorization": "Bearer pk_live_your_api_key",
    "Idempotency-Key": "unique-request-id-123"
}

schema = {
    "type": "object",
    "properties": {
        "invoice_number": {"type": "string"},
        "total": {"type": "number"},
        "date": {"type": "string"}
    },
    "required": ["invoice_number", "total"]
}

files = [
    ("files", ("invoice.pdf", open("invoice.pdf", "rb"), "application/pdf"))
]
data = {
    "schema": json.dumps(schema)
}

response = requests.post(url, headers=headers, files=files, data=data)
result = response.json()
```

</CodeGroup>

## Response

<ResponseField name="success" type="boolean">
  Indicates if the request was successful.
</ResponseField>

<ResponseField name="message" type="string">
  Human-readable message describing the result.
</ResponseField>

<ResponseField name="data" type="object[]">
  Array of extracted data objects, one per file. Each object contains: -
  `filename`: Original filename - `data`: Extracted data matching the provided
  schema
</ResponseField>

## Response Example

```json
{
  "success": true,
  "message": "Files processed successfully",
  "data": [
    {
      "filename": "invoice.pdf",
      "data": {
        "invoice_number": "INV-2024-001",
        "total": 1250.5,
        "date": "2024-01-15"
      }
    },
    {
      "filename": "receipt.jpg",
      "data": {
        "invoice_number": "RCP-2024-042",
        "total": 89.99,
        "date": "2024-01-20"
      }
    }
  ]
}
```

## Error Responses

<ResponseField name="detail" type="string">
  Error message describing what went wrong.
</ResponseField>

### Common Errors

**400 Bad Request**

```json
{
  "detail": "No files provided"
}
```

```json
{
  "detail": "Schema cannot be empty"
}
```

```json
{
  "detail": "Invalid JSON schema: Expecting value: line 1 column 1 (char 0)"
}
```

**401 Unauthorized**

```json
{
  "detail": "Invalid API key"
}
```

**402 Payment Required**

```json
{
  "detail": "Insufficient credits. Required: 4, Available: 2"
}
```

**403 Forbidden**

```json
{
  "detail": "No active subscription found. Please subscribe to use this feature."
}
```

**500 Internal Server Error**

```json
{
  "detail": "Model returned malformed JSON."
}
```

## Credit Costs

- Credits are calculated based on file size and type
- PDFs: Credits estimated based on file size
- Images: Credits based on image dimensions and file size
- Total cost is the sum of credits for all files

## Notes

- Multiple files can be processed in a single request
- Each file is processed independently with the same schema
- The AI only extracts values that are explicitly present in the document
- Missing or unclear values are set to `null` or omitted if optional
- The schema must be valid JSON and follow JSON Schema specification
- Maximum output tokens: 2048 per file
- Extracted data strictly follows the provided schema structure
